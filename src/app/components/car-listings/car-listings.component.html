<div class="site-section bg-light">
  <div class="container">
    <div class="row">
      <div class="col-lg-7">
        <h2 class="section-heading"><strong>Listado de Vehículos</strong></h2>
        <p class="mb-5">Encuentra el vehículo ideal para tus necesidades.</p>
      </div>
    </div>

    <!-- Mensaje de error -->
    <div *ngIf="errorMessage" class="alert alert-danger w-100">
      {{ errorMessage }}
    </div>

    <!-- Lista de vehículos -->
    <div *ngIf="!errorMessage && vehiculosPaginados.length > 0" class="row">
      <div *ngFor="let vehiculo of vehiculosPaginados" class="col-md-6 col-lg-4 mb-4">
        <div class="listing d-block align-items-stretch">
          <div class="listing-img h-100 mr-4">
            <!-- Mostrar la imagen seleccionada aleatoriamente o una predeterminada -->
            <img [src]="vehiculo.foto" alt="Imagen del vehículo" class="img-fluid" />
          </div>
          <div class="listing-contents h-100">
            <h3>{{ vehiculo.modelo }}</h3>
            <div class="rent-price">
              <strong>{{ vehiculo.precio }}</strong><span class="mx-1">/</span>día
            </div>
            <div class="d-block d-md-flex mb-3 border-bottom pb-3">
              <div class="listing-feature pr-4">
                <span class="caption">Maletas:</span>
                <span class="number">{{ vehiculo.maletas }}</span>
              </div>
              <div class="listing-feature pr-4">
                <span class="caption">Puertas:</span>
                <span class="number">{{ vehiculo.puertas }}</span>
              </div>
              <div class="listing-feature pr-4">
                <span class="caption">Pasajeros:</span>
                <span class="number">{{ vehiculo.asientos }}</span>
              </div>
            </div>
            <div>
              <p>{{ vehiculo.descripcion }}</p>
              <a [routerLink]="'/rent/' + vehiculo.id" class="btn btn-primary btn-sm">Rentar Ahora</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Mensaje si no hay vehículos -->
    <div *ngIf="!errorMessage && vehiculos.length === 0" class="alert alert-info w-100">
      No hay vehículos disponibles por el momento.
    </div>

    <!-- Paginación -->
    <div class="row">
      <div class="col-12">
        <nav>
          <ul class="pagination justify-content-end">
            <li class="page-item" [class.disabled]="paginaActual === 1">
              <a class="page-link" href="#" (click)="cambiarPagina(paginaActual - 1)">Anterior</a>
            </li>
            <li
              class="page-item"
              *ngFor="let pagina of paginas"
              [class.active]="pagina === paginaActual"
            >
              <a class="page-link" href="#" (click)="cambiarPagina(pagina)">{{ pagina }}</a>
            </li>
            <li class="page-item" [class.disabled]="paginaActual === paginas.length">
              <a class="page-link" href="#" (click)="cambiarPagina(paginaActual + 1)">Siguiente</a>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </div>
</div>
